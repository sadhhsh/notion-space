<!DOCTYPE html>
<html>
<head>
    <title>Bhagavad Gita Quotes</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            text-align: center;
            background: #f5f5f5;
        }
        #quote-container {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        #slok {
            font-size: 20px;
            color: #333;
            line-height: 1.6;
        }
        #translation {
            color: #555;
            margin: 15px 0;
            font-size: 16px;
        }
        #reference {
            font-weight: bold;
            color: #777;
        }
        button {
            background: #d4af37;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div id="quote-container">
        <h2>Bhagavad Gita Wisdom</h2>
        <div id="slok">Loading...</div>
        <div id="translation"></div>
        <div id="reference"></div>
        <button onclick="loadQuote()">New Verse</button>
    </div>

    <script>
        // Hardcoded verses (fallback if API fails)
        const fallbackVerses = [
            {
                slok: "यदा यदा हि धर्मस्य ग्लानिर्भवति भारत...",
                translation: "Whenever righteousness declines and unrighteousness prevails, I manifest myself.",
                chapter: 4,
                verse: 7
            },
            {
                slok: "कर्मण्येवाधिकारस्ते मा फलेषु कदाचन...",
                translation: "You have a right to perform your prescribed duty, but you are not entitled to the fruits of action.",
                chapter: 2,
                verse: 47
            },
            {
                slok: "वासांसि जीर्णानि यथा विहाय...",
                translation: "As a person puts on new garments, giving up old ones, the soul similarly accepts new material bodies.",
                chapter: 2,
                verse: 22
            }
        ];

        async function loadQuote() {
            try {
                // Try fetching from API first
                const apiResponse = await fetch("https://corsproxy.io/?https://bhagavadgitaapi.in/random/");
                
                if (apiResponse.ok) {
                    const data = await apiResponse.json();
                    displayQuote(data);
                } else {
                    throw new Error("API failed");
                }
            } catch (error) {
                // Fallback to hardcoded verses
                const randomVerse = fallbackVerses[Math.floor(Math.random() * fallbackVerses.length)];
                displayQuote(randomVerse);
            }
        }

        function displayQuote(verse) {
            document.getElementById("slok").textContent = `"${verse.slok}"`;
            document.getElementById("translation").textContent = verse.translation;
            document.getElementById("reference").textContent = `— Chapter ${verse.chapter}, Verse ${verse.verse}`;
        }

        // Load first quote on page load
        window.onload = loadQuote;
    </script>
</body>
</html>
